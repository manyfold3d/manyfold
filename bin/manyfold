#!/usr/bin/env ruby
require "thor"
require File.expand_path("../../config/environment", __FILE__)
Rails.root.glob("app/lib/cli/**/*.rb").sort.each { |f| require f }

class ManyfoldCLI < Thor
  namespace :manyfold
  [
    Cli::CollectionsCommand,
    Cli::CreatorsCommand,
    Cli::EmailCommand,
    Cli::FaspCommand,
    Cli::JobsCommand,
    Cli::LibrariesCommand,
    Cli::LinksCommand,
    Cli::ModelsCommand,
    Cli::ProblemsCommand,
    Cli::TagsCommand,
    Cli::UsersCommand
  ].each do |c|
    desc c.namespace, c::DESCRIPTION
    subcommand c.namespace, c
  end
end

ManyfoldCLI.start(ARGV)
